<p2k16-header active="front-page"></p2k16-header>

<div class="container">
  <div class="row" ng-if="!ctrl.employed && !ctrl.payingMember">
    <div class="col-xs-12">
      <h2>Become a paying Bitraf member</h2>

      <p>You will receive access to open the door 24/7 and access machines at Bitraf.</p>
      <div class="row text-center align-items-end">

        <div class="col-lg-4 mb-5 mb-lg-0">
          <div class="panel panel-primary p-5 rounded-lg shadow">
            <h1 class="h6 text-uppercase font-weight-bold mb-4">Normal member</h1>
            <h2 class="h1 font-weight-bold"> 500 kr <span class="text-small font-weight-normal ml-2">/ month</span></h2>

            <div class="my-4 mx-auto primary"></div>

            <!-- Needs CSS! -->
            <ul class="my-5 text-small text-left">
              <li class="mb-3">
                <i class="mr-2 text-primary"></i> Access to Bitraf 24/7 </li>
              <li class="mb-3">
                <i class="mr-2 text-primary"></i> Open all doors and use all tools </li>
              <li class="mb-3">
                <i class="mr-2 text-primary"></i> Join safety courses</li>
                <li class="mb-3">
                  <i class="mr-2 text-primary"></i> Personal box for storage</li>
                <li class="mb-3">
                  <i class="mr-2 text-primary"></i> Cancel anytime</li>
                <li class="mb-3">
                  <i class="mr-2 text-primary"></i> Support Bitraf!</li>
                <p></p>
                <b>Bitraf is funded by its members!</b>

            </ul>
            <button ng-click="ctrl.signup(500)" class="btn btn-primary btn-block p-2 shadow rounded-pill">Sign up</button>
          </div>
        </div>
        <!-- END -->
        <div class="col-lg-4 mb-5 mb-lg-0">
          <div class="panel panel-primary p-5 rounded-lg shadow">
            <h1 class="h6 text-uppercase font-weight-bold mb-4">Supporting member</h1>
            <h2 class="h1 font-weight-bold"> 300 kr <span class="text-small font-weight-normal ml-2">/ month</span></h2>

            <div class="my-4 mx-auto primary"></div>

            <!-- Needs CSS! -->
            <ul class="my-5 text-small text-left">
              <li class="mb-3">
                <i class="mr-2 text-primary"></i> Same access as normal members </li>
              <li class="mb-3">
                <i class="mr-2 text-primary"></i> For students, unemployed or others who cannot afford a full membership</li>
                <p></p>
                <b>Bitraf is funded by its members!</b>

            </ul>
            <button ng-click="ctrl.signup(300)" class="btn btn-primary btn-block p-2 shadow rounded-pill">Sign up</button>
          </div>
        </div>
        <!-- END -->
      </div>

    </div>
  </div>

  <section ng-if="ctrl.payingMember && !ctrl.doorsAvailable">
    <div class="row">
      <div class="col-xs-12">
        <div class="bs-callout bs-callout-info">
          <h4>Gain access to bitraf</h4>
          <p>Since you are an active, paying member of Bitraf you can get key access to
            Bitraf. To gain this access you need to visit Bitraf in person and get someone
            to add you to the door circle, which grants access to opening the
            doors. One of the regular build-night is a good time to go.</p>

          <p>Once you have been granted door access by a door admin, revisiting this page
            will allow you to open the doors from eg your mobile phone</p>
        </div>
      </div>
    </div>
  </section>

  <section ng-if="ctrl.doorsAvailable">
    <h2>Open a door</h2>
    <div class="row door-buttons">
      <div class="col-xs-6">
        <button class="btn btn-default btn-block" ng-click="ctrl.openDoors(['frontdoor'])">Frontdoor only</button>
      </div>
      <div class="col-xs-6">
        <button class="btn btn-default btn-block" ng-click="ctrl.openDoors(['frontdoor', '2floor'])">
          Frontdoor and lab / 2nd floor
        </button>
      </div>
    </div>
    <div class="row door-buttons">
      <div class="col-xs-6">
        <button class="btn btn-default btn-block" ng-click="ctrl.openDoors(['3office'])">3rd, office</button>
      </div>
      <div class="col-xs-6">
        <button class="btn btn-default btn-block" ng-click="ctrl.openDoors(['3workshop'])">3rd, workshop</button>
      </div>
    </div>
    <div class="row door-buttons">
      <div class="col-xs-12">
        <button class="btn btn-default btn-block" ng-click="ctrl.openDoors(['4floor'])">4th floor, office</button>
      </div>
    </div>
    <div class="row door-buttons">
      <div class="col-xs-12">
        <button class="btn btn-default btn-block" ng-click="ctrl.openDoors(['bv9-f2-entrance'])">Brenneriveien entrance</button>
      </div>
    </div>

    <section ng-if="ctrl.recent_events.length > 0">
    <h3>Recent events</h3>
    <ul>
      <li ng-repeat="e in ctrl.recent_events">
        <span ng-switch="e.domain + '-' + e.name">
          <span ng-switch-when="door-open">
            <a href="#!/user/{{ e.created_by }}">{{ e.created_by_username }}</a>
            opened {{ e.door }} at {{ e.created_at | date:'shortTime' }}
          </span>
          <span ng-switch-when="badge-awarded">
            <a href="#!/user/{{ e.account_badge.account_id }}">{{ e.account_badge.account_username }}</a>
            got the <span class="label label-default">{{ e.badge_description.title }}</span> badge<span ng-if="e.account_badge.account_id !== e.created_by"> awarded by {{ e.created_by_username }}</span>!
          </span>
        </span>
      </li>
    </ul>
    </section>
  </section>
</div>
